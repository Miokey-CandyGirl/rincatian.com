<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIç¿»è¯‘åŠŸèƒ½æµ‹è¯• - ç³å‡¯è’‚äºšè¯­ç¤¾åŒº</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #1a237e; color: white; }
        .test-section { background: rgba(255,255,255,0.1); padding: 20px; margin: 20px 0; border-radius: 10px; border: 1px solid rgba(255,215,0,0.3); }
        .test-button { background: #4CAF50; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 5px; }
        .test-button:hover { background: #45a049; }
        .status { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .success { background: rgba(76,175,80,0.2); color: #4caf50; }
        .error { background: rgba(244,67,54,0.2); color: #f44336; }
        .info { background: rgba(33,150,243,0.2); color: #2196f3; }
        .test-log { background: #000; color: #00ff00; padding: 15px; border-radius: 5px; font-family: monospace; max-height: 300px; overflow-y: auto; }
        .feature-demo { background: rgba(255,255,255,0.05); padding: 15px; margin: 15px 0; border-radius: 8px; }
    </style>
</head>
<body>
    <h1>ğŸ¤– AIç¿»è¯‘åŠŸèƒ½æµ‹è¯•</h1>
    
    <div class="test-section">
        <h2>ğŸ”‘ APIé…ç½®ä¿¡æ¯</h2>
        <div class="feature-demo">
            <h4>ğŸŒ DeepSeek APIçŠ¶æ€</h4>
            <p>APIåœ°å€ï¼š<span style="color: #4ecdc4; font-family: monospace;">https://api.deepseek.com/v1/chat/completions</span></p>
            <p>APIå¯†é’¥ï¼š<span style="color: #ffd700; font-family: monospace;">sk-b75eaf***ï¼ˆå·²é…ç½®ï¼‰</span></p>
            <p>ğŸ¤– æ™ºèƒ½æ¨¡å‹ï¼šdeepseek-reasoner (0:30-8:30) / deepseek-chat (å…¶ä»–æ—¶é—´)</p>
            <button class="test-button" onclick="testAPIConnection()">æµ‹è¯•APIè¿æ¥</button>
            <div id="apiStatus" class="status info">ç­‰å¾…APIè¿æ¥æµ‹è¯•...</div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ”§ åŠŸèƒ½åˆå§‹åŒ–æµ‹è¯•</h2>
        <button class="test-button" onclick="testAIInitialization()">æµ‹è¯•AIç¿»è¯‘åˆå§‹åŒ–</button>
        <button class="test-button" onclick="testModelSelection()">æµ‹è¯•æ¨¡å‹é€‰æ‹©é€»è¾‘</button>
        <button class="test-button" onclick="testUserBalance()">æµ‹è¯•ç”¨æˆ·ä½™é¢ç³»ç»Ÿ</button>
        <div id="initStatus" class="status info">ç­‰å¾…åˆå§‹åŒ–æµ‹è¯•...</div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ’¬ ç¿»è¯‘åŠŸèƒ½æµ‹è¯•</h2>
        <button class="test-button" onclick="testTranslationAPI()">æµ‹è¯•ç¿»è¯‘API</button>
        <button class="test-button" onclick="testCharacterLimit()">æµ‹è¯•å­—ç¬¦é™åˆ¶</button>
        <button class="test-button" onclick="testDirectionSwitch()">æµ‹è¯•ç¿»è¯‘æ–¹å‘åˆ‡æ¢</button>
        <div id="translationStatus" class="status info">ç­‰å¾…ç¿»è¯‘åŠŸèƒ½æµ‹è¯•...</div>
        
        <div class="feature-demo">
            <h4>ğŸ¯ å®æ—¶ç¿»è¯‘æ¼”ç¤º</h4>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div>
                    <label>è¾“å…¥æ–‡æœ¬ï¼š</label>
                    <textarea id="demoInput" placeholder="è¾“å…¥è¦ç¿»è¯‘çš„æ–‡æœ¬..." style="width: 100%; height: 80px; background: rgba(255,255,255,0.1); color: white; border: 1px solid #ffd700; border-radius: 5px; padding: 8px;"></textarea>
                    <button class="test-button" onclick="demoTranslation()">ç¿»è¯‘</button>
                </div>
                <div>
                    <label>ç¿»è¯‘ç»“æœï¼š</label>
                    <div id="demoOutput" style="background: rgba(0,255,0,0.1); padding: 10px; border-radius: 5px; min-height: 80px; border: 1px solid #4caf50;">ç­‰å¾…ç¿»è¯‘ç»“æœ...</div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ’° æ”¶è´¹æœºåˆ¶æµ‹è¯•</h2>
        <button class="test-button" onclick="testPaymentSystem()">æµ‹è¯•æ”¶è´¹æ‰£æ¬¾</button>
        <button class="test-button" onclick="testInsufficientBalance()">æµ‹è¯•ä½™é¢ä¸è¶³</button>
        <button class="test-button" onclick="testRecharge()">æµ‹è¯•å……å€¼åŠŸèƒ½</button>
        <div id="paymentStatus" class="status info">ç­‰å¾…æ”¶è´¹æœºåˆ¶æµ‹è¯•...</div>
        
        <div class="feature-demo">
            <h4>ğŸ’³ ä½™é¢ç®¡ç†</h4>
            <p>å½“å‰ä½™é¢ï¼š<span id="currentBalance" style="color: #ffd700; font-weight: bold;">0.00</span> å…ƒ</p>
            <button class="test-button" onclick="showBalance()">æŸ¥çœ‹ä½™é¢</button>
            <button class="test-button" onclick="addTestBalance()">æ·»åŠ æµ‹è¯•ä½™é¢(+5å…ƒ)</button>
        </div>
    </div>
    
    <div class="test-section">
        <h2>â° æ—¶é—´æ®µæ¨¡å‹æµ‹è¯•</h2>
        <button class="test-button" onclick="testTimeBasedModel()">æµ‹è¯•å½“å‰æ—¶é—´æ¨¡å‹</button>
        <button class="test-button" onclick="simulateReasonerTime()">æ¨¡æ‹Ÿæ¨ç†æ¨¡å‹æ—¶æ®µ</button>
        <button class="test-button" onclick="simulateChatTime()">æ¨¡æ‹Ÿå¯¹è¯æ¨¡å‹æ—¶æ®µ</button>
        <div id="timeModelStatus" class="status info">ç­‰å¾…æ—¶é—´æ®µæ¨¡å‹æµ‹è¯•...</div>
        
        <div class="feature-demo">
            <h4>ğŸ• å½“å‰æ¨¡å‹ä¿¡æ¯</h4>
            <p>å½“å‰æ—¶é—´ï¼š<span id="currentTime">--:--</span></p>
            <p>ä½¿ç”¨æ¨¡å‹ï¼š<span id="currentModel" style="color: #4ecdc4; font-weight: bold;">--</span></p>
            <p>æ—¶é—´æ®µï¼š<span id="timeRange" style="color: #ffd700;">--</span></p>
        </div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ“Š æµ‹è¯•æ—¥å¿—</h2>
        <div class="test-log" id="testLog">[ç³»ç»Ÿ] AIç¿»è¯‘åŠŸèƒ½æµ‹è¯•é¡µé¢å·²åŠ è½½...<br></div>
        <button class="test-button" onclick="clearTestLog()">æ¸…ç©ºæ—¥å¿—</button>
        <button class="test-button" onclick="runAllTests()">è¿è¡Œå…¨éƒ¨æµ‹è¯•</button>
    </div>

    <script src="ai-translation.js"></script>
    <script>
        function log(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const colors = { 'success': '#00ff00', 'error': '#ff0000', 'warning': '#ffaa00', 'info': '#00ffff' };
            const color = colors[type] || '#ffffff';
            const logElement = document.getElementById('testLog');
            logElement.innerHTML += `<span style="color: ${color}">[${timestamp}] ${message}</span><br>`;
            logElement.scrollTop = logElement.scrollHeight;
        }
        
        function testAPIConnection() {
            log('æµ‹è¯•DeepSeek APIè¿æ¥...', 'info');
            document.getElementById('apiStatus').innerHTML = 'ğŸ”„ æ­£åœ¨æµ‹è¯•APIè¿æ¥...';
            document.getElementById('apiStatus').className = 'status info';
            
            // ä½¿ç”¨ç®€å•çš„æµ‹è¯•æ–‡æœ¬
            const testText = 'ä½ å¥½';
            
            if (typeof performAITranslation === 'function') {
                performAITranslation(testText, 'zh-to-rincatian', 'deepseek-chat')
                    .then(result => {
                        if (result.model.includes('å¤‡ç”¨')) {
                            log('âš ï¸ APIè¿æ¥å¤±è´¥ï¼Œä½¿ç”¨å¤‡ç”¨æ¨¡å¼', 'warning');
                            document.getElementById('apiStatus').innerHTML = 'âš ï¸ APIè¿æ¥å¤±è´¥ï¼Œå·²å¯ç”¨å¤‡ç”¨æ¨¡å¼';
                            document.getElementById('apiStatus').className = 'status warning';
                        } else {
                            log('âœ… DeepSeek APIè¿æ¥æˆåŠŸï¼', 'success');
                            log(`æµ‹è¯•ç¿»è¯‘ç»“æœ: ${result.translation}`, 'info');
                            document.getElementById('apiStatus').innerHTML = 'âœ… DeepSeek APIè¿æ¥æ­£å¸¸';
                            document.getElementById('apiStatus').className = 'status success';
                        }
                    })
                    .catch(error => {
                        log(`âŒ APIè¿æ¥æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
                        document.getElementById('apiStatus').innerHTML = 'âŒ APIè¿æ¥å¤±è´¥';
                        document.getElementById('apiStatus').className = 'status error';
                    });
            } else {
                log('âŒ performAITranslation å‡½æ•°ä¸å­˜åœ¨', 'error');
                document.getElementById('apiStatus').innerHTML = 'âŒ APIå‡½æ•°ç¼ºå¤±';
                document.getElementById('apiStatus').className = 'status error';
            }
        }
        
        function testAIInitialization() {
            log('æµ‹è¯•AIç¿»è¯‘åŠŸèƒ½åˆå§‹åŒ–...', 'info');
            
            try {
                // æ£€æŸ¥AIç¿»è¯‘æ¨¡å—æ˜¯å¦åŠ è½½
                if (typeof window.AITranslation !== 'undefined') {
                    log('âœ… AIç¿»è¯‘æ¨¡å—å·²æ­£ç¡®åŠ è½½', 'success');
                    
                    // æ£€æŸ¥å…³é”®å‡½æ•°
                    const functions = ['init', 'translate', 'getCurrentModel'];
                    const missing = functions.filter(func => typeof window.AITranslation[func] !== 'function');
                    
                    if (missing.length === 0) {
                        log('âœ… æ‰€æœ‰æ ¸å¿ƒå‡½æ•°éƒ½å­˜åœ¨', 'success');
                        document.getElementById('initStatus').innerHTML = 'âœ… AIç¿»è¯‘åŠŸèƒ½åˆå§‹åŒ–æ­£å¸¸';
                        document.getElementById('initStatus').className = 'status success';
                    } else {
                        log(`âŒ ç¼ºå°‘å‡½æ•°: ${missing.join(', ')}`, 'error');
                        document.getElementById('initStatus').innerHTML = 'âŒ åˆå§‹åŒ–å¼‚å¸¸ï¼Œç¼ºå°‘æ ¸å¿ƒå‡½æ•°';
                        document.getElementById('initStatus').className = 'status error';
                    }
                } else {
                    log('âŒ AIç¿»è¯‘æ¨¡å—æœªåŠ è½½', 'error');
                    document.getElementById('initStatus').innerHTML = 'âŒ AIç¿»è¯‘æ¨¡å—æœªåŠ è½½';
                    document.getElementById('initStatus').className = 'status error';
                }
            } catch (error) {
                log(`âŒ åˆå§‹åŒ–æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
                document.getElementById('initStatus').innerHTML = 'âŒ åˆå§‹åŒ–æµ‹è¯•å¤±è´¥';
                document.getElementById('initStatus').className = 'status error';
            }
        }
        
        function testModelSelection() {
            log('æµ‹è¯•æ¨¡å‹é€‰æ‹©é€»è¾‘...', 'info');
            
            try {
                if (typeof getCurrentModel === 'function') {
                    const modelInfo = getCurrentModel();
                    log(`å½“å‰æ¨¡å‹: ${modelInfo.model}`, 'info');
                    log(`æ—¶é—´æ®µ: ${modelInfo.timeRange}`, 'info');
                    
                    // æ›´æ–°æ˜¾ç¤º
                    document.getElementById('currentTime').textContent = new Date().toLocaleTimeString();
                    document.getElementById('currentModel').textContent = modelInfo.model;
                    document.getElementById('timeRange').textContent = modelInfo.timeRange;
                    
                    log('âœ… æ¨¡å‹é€‰æ‹©é€»è¾‘æ­£å¸¸å·¥ä½œ', 'success');
                } else {
                    log('âŒ getCurrentModel å‡½æ•°ä¸å­˜åœ¨', 'error');
                }
            } catch (error) {
                log(`âŒ æ¨¡å‹é€‰æ‹©æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
            }
        }
        
        function testUserBalance() {
            log('æµ‹è¯•ç”¨æˆ·ä½™é¢ç³»ç»Ÿ...', 'info');
            
            try {
                // åˆå§‹åŒ–ä½™é¢
                if (typeof initUserBalance === 'function') {
                    initUserBalance();
                    log('âœ… ç”¨æˆ·ä½™é¢ç³»ç»Ÿåˆå§‹åŒ–æˆåŠŸ', 'success');
                } else {
                    log('âŒ initUserBalance å‡½æ•°ä¸å­˜åœ¨', 'error');
                }
                
                // æ£€æŸ¥ä½™é¢
                const balance = localStorage.getItem('userTranslationBalance') || '0';
                log(`å½“å‰ä½™é¢: ${balance} å…ƒ`, 'info');
                document.getElementById('currentBalance').textContent = parseFloat(balance).toFixed(2);
                
            } catch (error) {
                log(`âŒ ä½™é¢ç³»ç»Ÿæµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
            }
        }
        
        function testTranslationAPI() {
            log('æµ‹è¯•DeepSeek APIçœŸå®è°ƒç”¨...', 'info');
            
            try {
                if (typeof performAITranslation === 'function') {
                    const testText = 'ä½ å¥½';
                    log(`æµ‹è¯•æ–‡æœ¬: "${testText}"`, 'info');
                    
                    performAITranslation(testText, 'zh-to-rincatian', 'deepseek-chat')
                        .then(result => {
                            log(`âœ… APIè°ƒç”¨æˆåŠŸ: ${result.translation}`, 'success');
                            log(`ä½¿ç”¨æ¨¡å‹: ${result.model}`, 'info');
                            log(`ç½®ä¿¡åº¦: ${result.confidence}`, 'info');
                            if (result.usage) {
                                log(`Tokenä½¿ç”¨é‡: ${JSON.stringify(result.usage)}`, 'info');
                            }
                            document.getElementById('translationStatus').innerHTML = 'âœ… DeepSeek APIæ­£å¸¸å·¥ä½œ';
                            document.getElementById('translationStatus').className = 'status success';
                        })
                        .catch(error => {
                            log(`âš ï¸ APIè°ƒç”¨å¤±è´¥ï¼Œä½¿ç”¨å¤‡ç”¨æ¨¡å¼: ${error.message}`, 'warning');
                            document.getElementById('translationStatus').innerHTML = 'âš ï¸ APIè°ƒç”¨å¤±è´¥ï¼Œå·²å¯ç”¨å¤‡ç”¨æ¨¡å¼';
                            document.getElementById('translationStatus').className = 'status warning';
                        });
                } else if (typeof simulateAITranslation === 'function') {
                    // å¦‚æœæ²¡æœ‰çœŸå®APIå‡½æ•°ï¼Œä½¿ç”¨æ¨¡æ‹Ÿå‡½æ•°
                    simulateAITranslation('ä½ å¥½', 'zh-to-rincatian', 'deepseek-chat')
                        .then(result => {
                            log(`âœ… æ¨¡æ‹Ÿç¿»è¯‘æˆåŠŸ: ${result.translation}`, 'success');
                            document.getElementById('translationStatus').innerHTML = 'âœ… æ¨¡æ‹Ÿç¿»è¯‘APIæ­£å¸¸å·¥ä½œ';
                            document.getElementById('translationStatus').className = 'status success';
                        })
                        .catch(error => {
                            log(`âŒ æ¨¡æ‹Ÿç¿»è¯‘å¤±è´¥: ${error.message}`, 'error');
                            document.getElementById('translationStatus').innerHTML = 'âŒ ç¿»è¯‘APIå¼‚å¸¸';
                            document.getElementById('translationStatus').className = 'status error';
                        });
                } else {
                    log('âŒ ç¿»è¯‘å‡½æ•°ä¸å­˜åœ¨', 'error');
                    document.getElementById('translationStatus').innerHTML = 'âŒ ç¿»è¯‘å‡½æ•°ç¼ºå¤±';
                    document.getElementById('translationStatus').className = 'status error';
                }
            } catch (error) {
                log(`âŒ ç¿»è¯‘APIæµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
            }
        }
        
        function testCharacterLimit() {
            log('æµ‹è¯•100å­—ç¬¦é™åˆ¶...', 'info');
            
            const shortText = 'çŸ­æ–‡æœ¬æµ‹è¯•';
            const longText = 'è¿™æ˜¯ä¸€ä¸ªè¶…è¿‡100å­—ç¬¦é™åˆ¶çš„æµ‹è¯•æ–‡æœ¬'.repeat(10);
            
            log(`çŸ­æ–‡æœ¬é•¿åº¦: ${shortText.length} (åº”è¯¥é€šè¿‡)`, 'info');
            log(`é•¿æ–‡æœ¬é•¿åº¦: ${longText.length} (åº”è¯¥è¢«æ‹’ç»)`, 'info');
            
            if (shortText.length <= 100) {
                log('âœ… çŸ­æ–‡æœ¬æ£€æŸ¥é€šè¿‡', 'success');
            }
            
            if (longText.length > 100) {
                log('âœ… é•¿æ–‡æœ¬æ­£ç¡®è¯†åˆ«ä¸ºè¶…é™', 'success');
            }
        }
        
        function demoTranslation() {
            const input = document.getElementById('demoInput').value;
            const output = document.getElementById('demoOutput');
            
            if (!input.trim()) {
                output.textContent = 'è¯·å…ˆè¾“å…¥è¦ç¿»è¯‘çš„æ–‡æœ¬';
                return;
            }
            
            output.textContent = 'ç¿»è¯‘ä¸­...';
            
            // ä¼˜å…ˆä½¿ç”¨çœŸå®APIå‡½æ•°
            if (typeof performAITranslation === 'function') {
                performAITranslation(input, 'zh-to-rincatian', 'deepseek-chat')
                    .then(result => {
                        output.innerHTML = `<strong>è¯‘æ–‡:</strong> ${result.translation}<br><small>æ¨¡å‹: ${result.model} | ç½®ä¿¡åº¦: ${result.confidence.toFixed(2)}</small>`;
                        log(`æ¼”ç¤ºç¿»è¯‘å®Œæˆ: "${input}" -> "${result.translation}"`, 'success');
                    })
                    .catch(error => {
                        output.innerHTML = `<span style="color: #ff6b6b;">ç¿»è¯‘å¤±è´¥: ${error.message}</span>`;
                        log(`æ¼”ç¤ºç¿»è¯‘å¤±è´¥: ${error.message}`, 'error');
                    });
            } else if (typeof simulateAITranslation === 'function') {
                // å¤‡ç”¨æ¨¡æ‹Ÿå‡½æ•°
                simulateAITranslation(input, 'zh-to-rincatian', 'deepseek-chat')
                    .then(result => {
                        output.innerHTML = `<strong>è¯‘æ–‡:</strong> ${result.translation}<br><small>æ¨¡å‹: ${result.model}(æ¨¡æ‹Ÿ)</small>`;
                        log(`æ¼”ç¤ºç¿»è¯‘å®Œæˆ(æ¨¡æ‹Ÿ): "${input}" -> "${result.translation}"`, 'success');
                    })
                    .catch(error => {
                        output.textContent = 'ç¿»è¯‘å¤±è´¥: ' + error.message;
                        log(`æ¼”ç¤ºç¿»è¯‘å¤±è´¥: ${error.message}`, 'error');
                    });
            } else {
                output.textContent = 'ç¿»è¯‘åŠŸèƒ½ä¸å¯ç”¨';
            }
        }
        
        function testPaymentSystem() {
            log('æµ‹è¯•æ”¶è´¹æ‰£æ¬¾æœºåˆ¶...', 'info');
            
            const currentBalance = parseFloat(localStorage.getItem('userTranslationBalance') || '0');
            log(`æ‰£æ¬¾å‰ä½™é¢: ${currentBalance} å…ƒ`, 'info');
            
            if (currentBalance >= 0.1) {
                const newBalance = currentBalance - 0.1;
                localStorage.setItem('userTranslationBalance', newBalance.toString());
                log(`âœ… æ‰£æ¬¾æˆåŠŸ: 0.1 å…ƒ`, 'success');
                log(`æ‰£æ¬¾åä½™é¢: ${newBalance} å…ƒ`, 'info');
                document.getElementById('currentBalance').textContent = newBalance.toFixed(2);
                document.getElementById('paymentStatus').innerHTML = 'âœ… æ”¶è´¹æœºåˆ¶æ­£å¸¸å·¥ä½œ';
                document.getElementById('paymentStatus').className = 'status success';
            } else {
                log('âŒ ä½™é¢ä¸è¶³ï¼Œæ— æ³•æ‰£æ¬¾', 'error');
                document.getElementById('paymentStatus').innerHTML = 'âŒ ä½™é¢ä¸è¶³æµ‹è¯•';
                document.getElementById('paymentStatus').className = 'status error';
            }
        }
        
        function addTestBalance() {
            const currentBalance = parseFloat(localStorage.getItem('userTranslationBalance') || '0');
            const newBalance = currentBalance + 5;
            localStorage.setItem('userTranslationBalance', newBalance.toString());
            document.getElementById('currentBalance').textContent = newBalance.toFixed(2);
            log(`âœ… æ·»åŠ æµ‹è¯•ä½™é¢æˆåŠŸ: +5å…ƒï¼Œå½“å‰ä½™é¢: ${newBalance} å…ƒ`, 'success');
        }
        
        function showBalance() {
            const balance = localStorage.getItem('userTranslationBalance') || '0';
            document.getElementById('currentBalance').textContent = parseFloat(balance).toFixed(2);
            log(`å½“å‰ä½™é¢: ${balance} å…ƒ`, 'info');
        }
        
        function testTimeBasedModel() {
            log('æµ‹è¯•å½“å‰æ—¶é—´çš„æ¨¡å‹é€‰æ‹©...', 'info');
            testModelSelection();
        }
        
        function clearTestLog() {
            document.getElementById('testLog').innerHTML = '';
            log('æµ‹è¯•æ—¥å¿—å·²æ¸…ç©º', 'info');
        }
        
        function runAllTests() {
            log('å¼€å§‹è¿è¡Œå…¨éƒ¨æµ‹è¯•...', 'info');
            setTimeout(() => testAIInitialization(), 100);
            setTimeout(() => testModelSelection(), 500);
            setTimeout(() => testUserBalance(), 1000);
            setTimeout(() => testTranslationAPI(), 1500);
            setTimeout(() => testCharacterLimit(), 2000);
            setTimeout(() => testPaymentSystem(), 2500);
            log('å…¨éƒ¨æµ‹è¯•å·²å¯åŠ¨ï¼Œè¯·æŸ¥çœ‹å„é¡¹ç»“æœ', 'info');
        }
        
        // é¡µé¢åŠ è½½æ—¶çš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            log('AIç¿»è¯‘åŠŸèƒ½æµ‹è¯•é¡µé¢åˆå§‹åŒ–å®Œæˆ', 'info');
            testModelSelection(); // è‡ªåŠ¨æ˜¾ç¤ºå½“å‰æ¨¡å‹ä¿¡æ¯
            testUserBalance(); // è‡ªåŠ¨æ˜¾ç¤ºå½“å‰ä½™é¢
        });
    </script>
</body>
</html>