<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的信息功能测试 - 琳凯蒂亚语社区</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            background: linear-gradient(180deg, #0a0a1a 0%, #1a1a2e 100%);
            color: #e0e0e0;
            font-family: 'Noto Sans SC', sans-serif;
            min-height: 100vh;
            padding: 2rem;
        }
        
        .test-container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .test-section {
            margin-bottom: 2rem;
            background: rgba(26, 26, 46, 0.8);
            padding: 1.5rem;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .test-title {
            color: #ffd700;
            font-size: 1.3rem;
            margin-bottom: 1rem;
        }
        
        .test-button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            margin: 0.5rem;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .test-button.success {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
        }
        
        .test-button.primary {
            background: linear-gradient(45deg, #ffd700, #f39c12);
            color: #1a1a2e;
        }
        
        .feature-demo {
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .info-box {
            background: rgba(76, 205, 196, 0.1);
            border: 1px solid #4ecdc4;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
        }
        
        .success-indicator {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid #00ff88;
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
        }
        
        .nav-demo {
            background: rgba(26, 35, 126, 0.9);
            padding: 1rem;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .nav-brand {
            color: #ffd700;
            font-weight: bold;
        }
        
        .nav-extras {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1 style="text-align: center; color: #ffd700; margin-bottom: 2rem;">
            🔧 "我的信息"功能测试
        </h1>
        
        <!-- 功能说明 -->
        <div class="test-section">
            <h2 class="test-title">🛠️ 新增功能说明</h2>
            <div class="info-box">
                <h3 style="color: #4ecdc4; margin-bottom: 0.5rem;">功能描述：</h3>
                <p>在普通用户登录后点击个人中心时，新增"我的信息"按钮，用户可以查看：</p>
                <ul style="margin: 0.5rem 0; padding-left: 1.5rem;">
                    <li>📝 详细注册信息（邮箱、用户ID、加入时间等）</li>
                    <li>🏆 成就与等级系统（经验值、等级、成就徽章）</li>
                    <li>📊 活动统计（发帖数、评论数、获赞数、浏览数）</li>
                    <li>📄 最近发帖记录（标题、日期、互动数据）</li>
                </ul>
                
                <h3 style="color: #4ecdc4; margin: 1rem 0 0.5rem;">实现亮点：</h3>
                <ul style="margin: 0.5rem 0; padding-left: 1.5rem;">
                    <li>🎨 精美的UI设计，包含渐变背景和图标</li>
                    <li>📱 响应式布局，适配不同屏幕尺寸</li>
                    <li>🔢 动态统计数据，基于用户实际活动</li>
                    <li>🏅 成就系统，根据用户行为解锁不同徽章</li>
                    <li>⚡ 流畅的模态框切换体验</li>
                </ul>
            </div>
        </div>

        <!-- 测试模拟导航栏 -->
        <div class="test-section">
            <h2 class="test-title">📊 功能演示</h2>
            <p>模拟导航栏（登录状态）：</p>
            <div class="nav-demo">
                <div class="nav-brand">琳凯蒂亚语社区</div>
                <div class="nav-extras">
                    <div class="user-info" style="display: flex;">
                        <div class="user-avatar">测</div>
                        <span class="user-name">测试用户</span>
                        <div class="user-dropdown">
                            <a href="#" id="profileLink">个人中心</a>
                            <a href="#" id="logoutLink">退出登录</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 测试步骤 -->
        <div class="test-section">
            <h2 class="test-title">🧪 测试步骤</h2>
            <div class="feature-demo">
                <h3 style="color: #4ecdc4; margin-bottom: 1rem;">测试流程：</h3>
                <ol style="margin: 0.5rem 0; padding-left: 1.5rem; line-height: 1.6;">
                    <li><strong>步骤1：</strong> 点击下方"快速登录"按钮模拟登录</li>
                    <li><strong>步骤2：</strong> 点击"打开个人中心"查看基础个人信息</li>
                    <li><strong>步骤3：</strong> 在个人中心弹窗中点击"我的信息"按钮</li>
                    <li><strong>步骤4：</strong> 查看详细信息页面内容</li>
                    <li><strong>步骤5：</strong> 测试"返回个人中心"和"关闭"按钮</li>
                </ol>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="test-button primary" onclick="quickLogin()">🚀 快速登录</button>
                    <button class="test-button" onclick="testProfileModal()">👤 打开个人中心</button>
                    <button class="test-button success" onclick="testDetailedInfo()">📋 直接测试我的信息</button>
                </div>
            </div>
        </div>

        <!-- 功能特性展示 -->
        <div class="test-section">
            <h2 class="test-title">✨ 功能特性</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                <div class="feature-demo">
                    <h4 style="color: #ffd700; margin-bottom: 0.5rem;">📝 注册信息</h4>
                    <p style="font-size: 0.9rem; color: #b0b0c8;">完整的用户注册资料，包括邮箱、用户ID、加入时间和田历日期</p>
                </div>
                
                <div class="feature-demo">
                    <h4 style="color: #ffd700; margin-bottom: 0.5rem;">🏆 成就系统</h4>
                    <p style="font-size: 0.9rem; color: #b0b0c8;">经验值、等级和成就徽章展示，激励用户持续参与</p>
                </div>
                
                <div class="feature-demo">
                    <h4 style="color: #ffd700; margin-bottom: 0.5rem;">📊 活动统计</h4>
                    <p style="font-size: 0.9rem; color: #b0b0c8;">发帖数、评论数、获赞数和总浏览量的可视化展示</p>
                </div>
                
                <div class="feature-demo">
                    <h4 style="color: #ffd700; margin-bottom: 0.5rem;">📄 发帖记录</h4>
                    <p style="font-size: 0.9rem; color: #b0b0c8;">最近发布的帖子列表，包含互动数据和发布时间</p>
                </div>
            </div>
        </div>

        <!-- 验证结果 -->
        <div class="success-indicator">
            <h3 style="color: #00ff88; margin-bottom: 0.5rem;">✅ 功能实现完成</h3>
            <ul style="margin: 0; padding-left: 1.5rem; color: #e0e0e0;">
                <li>✅ 个人中心新增"我的信息"按钮</li>
                <li>✅ 详细信息页面包含所有要求的内容模块</li>
                <li>✅ 界面设计美观，用户体验良好</li>
                <li>✅ 数据动态计算，体现真实用户活动</li>
                <li>✅ 模态框切换流畅，导航便捷</li>
                <li>✅ 成就系统激励用户参与社区活动</li>
            </ul>
        </div>
    </div>

    <!-- 引入脚本 -->
    <script src="auth-system.js"></script>
    <script src="script.js"></script>
    
    <script>
        // 快速登录功能
        function quickLogin() {
            // 模拟创建一个测试用户
            const testUser = {
                id: Date.now(),
                username: '测试用户',
                email: 'test@linkaitiya.star',
                role: '普通用户',
                rank: '光线使者',
                avatar: '测',
                joinDate: Date.now() - (Math.random() * 30 * 24 * 60 * 60 * 1000), // 随机30天内
                points: Math.floor(Math.random() * 500) + 100 // 随机经验值
            };
            
            // 模拟登录到新认证系统
            if (window.authSystem) {
                window.authSystem.currentUser = testUser;
            } else {
                window.authSystem = { currentUser: testUser };
            }
            
            console.log('✅ 快速登录成功:', testUser);
            alert('🚀 快速登录成功！现在可以测试个人中心功能了。');
        }
        
        // 测试个人中心模态框
        function testProfileModal() {
            if (!window.authSystem || !window.authSystem.currentUser) {
                alert('⚠️ 请先点击"快速登录"按钮');
                return;
            }
            
            if (typeof showNewProfile === 'function') {
                showNewProfile();
                console.log('✅ 个人中心模态框已打开');
            } else {
                alert('❌ showNewProfile 函数未找到');
            }
        }
        
        // 直接测试详细信息
        function testDetailedInfo() {
            if (!window.authSystem || !window.authSystem.currentUser) {
                alert('⚠️ 请先点击"快速登录"按钮');
                return;
            }
            
            if (typeof showUserDetailedInfo === 'function') {
                showUserDetailedInfo();
                console.log('✅ 我的信息页面已打开');
            } else {
                alert('❌ showUserDetailedInfo 函数未找到');
            }
        }
        
        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            console.log('📱 我的信息功能测试页面已加载');
            
            // 绑定导航栏个人中心链接（如果存在）
            const profileLink = document.getElementById('profileLink');
            if (profileLink) {
                profileLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    testProfileModal();
                });
            }
        });
    </script>
</body>
</html>