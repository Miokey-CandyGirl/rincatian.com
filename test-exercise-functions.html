<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»ƒä¹ ç³»ç»Ÿæµ‹è¯•é¡µé¢</title>
    <link rel="stylesheet" href="exercise-style.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        #test-results {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .pass { color: green; font-weight: bold; }
        .fail { color: red; font-weight: bold; }
        #console-output {
            background: #333;
            color: #fff;
            padding: 15px;
            border-radius: 8px;
            max-height: 300px;
            overflow-y: auto;
        }
        .log-entry {
            margin: 2px 0;
            padding: 5px;
            background: #444;
            border-left: 3px solid #007cba;
        }
    </style>
</head>
<body>
    <h1>ğŸ§ª ç³å‡¯è’‚äºšè¯­ç»ƒä¹ ç³»ç»Ÿæµ‹è¯•</h1>
    
    <div id="test-results">
        <h2>ğŸ¯ æµ‹è¯•ç»“æœï¼š</h2>
        <ul id="results-list"></ul>
    </div>
    
    <!-- æ¨¡æ‹Ÿç»ƒä¹ åŒºåŸŸçš„HTMLç»“æ„ -->
    <div class="exercise-section">
        <h2>ğŸ¨ å°è¯•ç‰›åˆ€</h2>
        
        <div class="exercise-tabs">
            <button class="exercise-tab-btn active" onclick="showExerciseType('choice')">ğŸ¯ é€‰æ‹©é¢˜</button>
            <button class="exercise-tab-btn" onclick="showExerciseType('judge')">âœ… åˆ¤æ–­é¢˜</button>
            <button class="exercise-tab-btn" onclick="showExerciseType('fill')">ğŸ“ å¡«ç©ºé¢˜</button>
            <button class="exercise-tab-btn" onclick="showExerciseType('translate')">ğŸŒ ç¿»è¯‘é¢˜</button>
            <button class="exercise-tab-btn" onclick="showExerciseType('magic')">ğŸ”® é­”æ³•ç»ƒä¹ </button>
        </div>
        
        <div class="exercise-content">
            <!-- é€‰æ‹©é¢˜åŒºåŸŸ -->
            <div id="choice-exercises" class="exercise-type-section active">
                <div class="exercise-header">
                    <h3>ğŸ¯ é€‰æ‹©é¢˜</h3>
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="choiceProgress"></div>
                        </div>
                        <span class="progress-text" id="choiceProgressText">0/3</span>
                    </div>
                </div>
                
                <div class="exercise-container" id="choiceContainer">
                    <!-- è¿™é‡Œå°†ç”±JavaScriptåŠ¨æ€ç”Ÿæˆé¢˜ç›®å†…å®¹ -->
                </div>
                
                <div class="exercise-controls">
                    <button class="btn btn-primary" id="choiceNextBtn" onclick="nextChoiceQuestion()" disabled>ä¸‹ä¸€é¢˜</button>
                </div>
            </div>
            
            <!-- å…¶ä»–ç»ƒä¹ ç±»å‹åŒºåŸŸ -->
            <div id="judge-exercises" class="exercise-type-section">
                <h3>âœ… åˆ¤æ–­é¢˜</h3>
                <p>åˆ¤æ–­é¢˜å°šæœªå®ç°...</p>
            </div>
            
            <div id="fill-exercises" class="exercise-type-section">
                <h3>ğŸ“ å¡«ç©ºé¢˜</h3>
                <p>å¡«ç©ºé¢˜å°šæœªå®ç°...</p>
            </div>
            
            <div id="translate-exercises" class="exercise-type-section">
                <h3>ğŸŒ ç¿»è¯‘é¢˜</h3>
                <p>ç¿»è¯‘é¢˜å°šæœªå®ç°...</p>
            </div>
            
            <div id="magic-exercises" class="exercise-type-section">
                <h3>ğŸ”® é­”æ³•ç»ƒä¹ </h3>
                <p>é­”æ³•ç»ƒä¹ å°šæœªå®ç°...</p>
            </div>
        </div>
    </div>
    
    <div id="console-output">
        <h2>ğŸ“œ æ§åˆ¶å°è¾“å‡ºï¼š</h2>
        <div id="console-log"></div>
    </div>

    <script>
        // æ‹¦æˆªconsole.logè¾“å‡ºå¹¶æ˜¾ç¤ºåœ¨é¡µé¢ä¸Š
        const originalLog = console.log;
        const consoleDiv = document.getElementById('console-log');
        
        console.log = function(...args) {
            originalLog.apply(console, args);
            const logEntry = document.createElement('div');
            logEntry.className = 'log-entry';
            logEntry.textContent = args.join(' ');
            consoleDiv.appendChild(logEntry);
            consoleDiv.scrollTop = consoleDiv.scrollHeight;
        };
        
        function addResult(test, status) {
            const resultsList = document.getElementById('results-list');
            const listItem = document.createElement('li');
            listItem.className = status === 'PASS' ? 'pass' : 'fail';
            listItem.innerHTML = `<strong>${test}:</strong> ${status}`;
            resultsList.appendChild(listItem);
        }
        
        console.log('=== å¼€å§‹æµ‹è¯•ç»ƒä¹ ç³»ç»Ÿå‡½æ•° ===');
        
        // åœ¨åŠ è½½grammar-exercises.jsä¹‹å‰æµ‹è¯•
        console.log('åŠ è½½è„šæœ¬å‰æµ‹è¯•:');
        addResult('showExerciseTypeå­˜åœ¨æ€§', typeof window.showExerciseType === 'function' ? 'PASS' : 'FAIL');
        addResult('nextChoiceQuestionå­˜åœ¨æ€§', typeof window.nextChoiceQuestion === 'function' ? 'PASS' : 'FAIL');
        addResult('selectChoiceå­˜åœ¨æ€§', typeof window.selectChoice === 'function' ? 'PASS' : 'FAIL');
    </script>
    
    <!-- åŠ è½½ç»ƒä¹ ç³»ç»Ÿè„šæœ¬ -->
    <script src="grammar-exercises.js?v=2.0"></script>
    
    <script>
        // è„šæœ¬åŠ è½½åæµ‹è¯•
        console.log('åŠ è½½è„šæœ¬åæµ‹è¯•:');
        addResult('showExerciseTypeå­˜åœ¨æ€§ (åŠ è½½å)', typeof window.showExerciseType === 'function' ? 'PASS' : 'FAIL');
        addResult('nextChoiceQuestionå­˜åœ¨æ€§ (åŠ è½½å)', typeof window.nextChoiceQuestion === 'function' ? 'PASS' : 'FAIL');
        addResult('selectChoiceå­˜åœ¨æ€§ (åŠ è½½å)', typeof window.selectChoice === 'function' ? 'PASS' : 'FAIL');
        addResult('ExerciseSystemå­˜åœ¨æ€§', typeof ExerciseSystem === 'object' ? 'PASS' : 'FAIL');
        
        // æµ‹è¯•DOMå…ƒç´ 
        addResult('ç»ƒä¹ åŒºåŸŸå­˜åœ¨', document.querySelector('.exercise-section') ? 'PASS' : 'FAIL');
        addResult('choice-exerciseså…ƒç´ å­˜åœ¨', document.getElementById('choice-exercises') ? 'PASS' : 'FAIL');
        addResult('choiceContainerå…ƒç´ å­˜åœ¨', document.getElementById('choiceContainer') ? 'PASS' : 'FAIL');
        addResult('choiceNextBtnå…ƒç´ å­˜åœ¨', document.getElementById('choiceNextBtn') ? 'PASS' : 'FAIL');
        
        console.log('=== æµ‹è¯•å®Œæˆ ===');
        
        // è‡ªåŠ¨åˆå§‹åŒ–ç»ƒä¹ ç³»ç»Ÿ
        if (typeof ExerciseSystem !== 'undefined' && ExerciseSystem.init) {
            console.log('è‡ªåŠ¨åˆå§‹åŒ–ç»ƒä¹ ç³»ç»Ÿ...');
            ExerciseSystem.init();
        }
    </script>
</body>
</html>